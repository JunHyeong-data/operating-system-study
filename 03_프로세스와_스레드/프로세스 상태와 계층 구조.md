# 프로세스 상태와 계층 구조

이번 절에서는 프로세스들의 상태와 계층적 관리에 대해 자세히 알아보겠습니다.

---

## 📌 프로세스 상태

운영체제는 실행 중인 프로세스들을 PCB로 추적하며, 프로세스는 아래와 같은 상태를 오가며 실행됩니다.

### ● 생성 상태 (New)
- 프로세스가 막 생성되어 PCB가 생성되고 메모리에 적재되는 상태입니다.
- 아직 실행 준비가 되지 않았습니다.

### ● 준비 상태 (Ready)
- CPU를 할당받기 위해 대기 중인 상태입니다.
- 실행 가능한 상태이지만, 아직 CPU가 배정되지 않았습니다.

### ● 실행 상태 (Running)
- CPU를 할당받아 실제로 명령어를 수행 중인 상태입니다.
- 일정 시간 할당받은 후, 시간이 만료되거나 입출력을 요청하면 다른 상태로 전환됩니다.

### ● 대기 상태 (Waiting / Blocked)
- 입출력 등의 이벤트가 완료되기를 기다리는 상태입니다.
- 입출력이 끝나면 다시 준비 상태로 전환됩니다.

### ● 종료 상태 (Terminated)
- 프로세스 실행이 끝난 상태입니다.
- OS는 PCB와 메모리를 정리합니다.

> 🖼️ 아래 그림은 **프로세스 상태 다이어그램**을 나타냅니다.  
> ![image](https://github.com/user-attachments/assets/3cd3e1c6-eea2-4766-8f31-e93e460a6dd1)

---

## 🧬 프로세스 계층 구조

프로세스는 실행 중 **시스템 호출**을 통해 다른 프로세스를 생성할 수 있습니다.

### ● 부모/자식 프로세스
- **부모 프로세스**: 다른 프로세스를 생성한 주체
- **자식 프로세스**: 부모에 의해 생성된 새로운 프로세스
- 각 프로세스는 고유한 **PID(Process ID)**를 가지며,
  자식 프로세스는 부모의 PID를 **PPID(Parent PID)**로 저장하기도 합니다.

> 🌳 아래는 프로세스들이 계층적으로 생성되는 구조를 나타낸 트리입니다.  
> ![image](https://github.com/user-attachments/assets/db8388f7-f7c7-4c08-bd8e-95fe0831e8c6)

---

## ⚙️ 프로세스 생성 기법: 복제와 옷 갈아입기

자식 프로세스는 다음 두 단계를 통해 실행됩니다.

1. **복제 (fork)**
   - 부모 프로세스가 자신의 복사본을 만들어 자식 프로세스를 생성합니다.
   - 부모와 자식은 거의 동일한 메모리 구조를 가집니다 (초기엔).

2. **옷 갈아입기 (exec)**
   - 자식 프로세스가 자신의 메모리 공간을 완전히 다른 프로그램으로 교체합니다.
   - 즉, 자식 프로세스가 실행할 새로운 프로그램이 메모리에 올라갑니다.

> `fork`와 `exec`의 구체적인 사용법과 차이점은 별도로 다룹니다.
