# 스레드

**스레드**는 실행의 단위입니다. 조금 더 정확하게 표현하자면, 스레드란 프로세스를 구성하는 실행의 흐름 단위입니다. 그리고 하나의 프로세스는 여러 개의 스레드를 가질 수 있습니다. 스레드를 이용하면 하나의 프로세스에서 여러 부분을 동시에 실행할 수 있습니다.

이번 절을 통해 스레드와 멀티스레드란 무엇인지, 그리고 멀티스레드는 멀티프로세스와 어떤 차이가 있는지를 학습해 보겠습니다.

---

## 프로세스와 스레드

전통적인 관점에서 보면 하나의 프로세스는 한 번에 하나의 일만을 처리했습니다.  
'실행의 흐름 단위가 하나'라는 점에서 이렇게 실행되는 프로세스들은 **단일 스레드 프로세스**라고 볼 수 있습니다.

하지만 **스레드**라는 개념이 도입되면서 하나의 프로세스가 한 번에 여러 일을 처리할 수 있게 되었습니다. 즉, 프로세스를 구성하는 여러 명령어를 동시에 실행할 수 있게 된 것이지요.

이런 점에서 볼 때 스레드는 '프로세스를 구성하는 실행 단위'라고 볼 수 있습니다.  
스레드는 프로세스 내에서 각기 다른 스레드 ID, 프로그램 카운터 값을 비롯한 레지스터 값, 스택으로 구성됩니다. 각자 프로그램 카운터 값과 레지스터 값, 스택을 가지고 있기에 스레드마다 각기 다른 코드를 실행할 수 있습니다.

![스레드 구성](https://github.com/user-attachments/assets/66496dd1-8b3f-4d23-9f4c-372a77807cdc)

중요한 점은 프로세스의 스레드들이 실행에 필요한 최소한의 정보만 유지한 채, 프로세스 자원을 공유하며 실행된다는 것입니다.

정리하면,  
- **프로세스**는 실행 중인 프로그램이고,  
- **스레드**는 프로세스를 구성하는 실행의 흐름 단위입니다.

최근 많은 운영체제는 CPU에 처리할 작업을 전달할 때 **프로세스가 아닌 스레드 단위**로 전달하며, 스레드는 프로세스 자원을 공유한 채 최소한의 정보만으로 실행됩니다.

---

## 멀티프로세스와 멀티스레드

컴퓨터는 여러 프로세스가 동시에 실행될 수 있고, 각 프로세스는 여러 개의 스레드를 가질 수 있습니다.

- 여러 프로세스를 동시에 실행하는 것을 **멀티프로세스**라 하고,  
- 하나의 프로세스 내 여러 스레드로 동시에 실행하는 것을 **멀티스레드**라고 합니다.

### 동일한 작업 수행 방식 비교

| 구분           | 단일 스레드 프로세스 여러 개 실행           | 하나의 프로세스 내 여러 스레드 실행      |
|----------------|----------------------------------------------|------------------------------------------|
| 자원 공유      | 거의 없음, 프로세스별 독립된 자원            | 같은 프로세스 내 자원 공유               |
| 메모리 공간    | 독립적 메모리 공간                           | 메모리 공간 공유                         |
| 통신 비용      | 프로세스 간 통신(IPC) 필요, 비용 큼          | 스레드 간 직접 접근, 비용 적음            |
| 동기화 문제    | 적음                                         | 필수, 동기화 문제 발생 가능               |

멀티프로세스는 각 프로세스가 독립된 메모리 공간과 자원을 가지고 있어 안정적이지만, 통신 비용이 크고 시스템 자원 사용이 많습니다.  
멀티스레드는 자원을 공유하여 메모리 효율성과 빠른 통신이 가능하지만, 동기화 문제에 신경 써야 합니다.

---

### 멀티프로세스 vs 멀티스레드 비교표

| 구분           | 멀티프로세스                            | 멀티스레드                            |
|----------------|----------------------------------------|--------------------------------------|
| 메모리 공간    | 프로세스마다 독립된 메모리 공간         | 같은 프로세스 내 스레드끼리 메모리 공유 |
| 자원 공유      | 거의 없음                             | 자원 공유 (전역 변수, 파일 핸들 등)  |
| 통신 방식      | IPC (파이프, 소켓, 공유 메모리 등)      | 스레드 간 직접 접근                   |
| 생성 및 전환 비용 | 비교적 높음                          | 상대적으로 낮음                      |
| 안정성         | 한 프로세스 오류가 다른 프로세스에 영향 적음 | 한 스레드 오류가 전체 프로세스에 영향 줄 수 있음 |
| 동기화 필요성  | 낮음                                  | 필수 (경쟁 조건 방지)                 |

---

필요하면 멀티스레드 프로그래밍에서 사용하는 동기화 기법(뮤텍스, 세마포어, 락 등)에 대해서도 설명해 드릴 수 있습니다.
