# 운영체제의 큰 그림

이번 절에서는 운영체제의 핵심 개념인 **커널**, **이중 모드**, **시스템 호출**, 그리고 운영체제가 제공하는 **핵심 서비스**들을 알아봅니다.

---

## 🧠 운영체제의 심장, 커널

운영체제는 **현존하는 가장 큰 규모의 프로그램** 중 하나입니다.  
- 자원 접근 및 조작
- 프로그램 실행의 안전성과 정확성 보장  
이러한 핵심 기능을 담당하는 부분이 바로 **커널(Kernel)**입니다.

### 사용자 인터페이스 (User Interface)
운영체제의 일부 서비스는 커널에 포함되지 않습니다. 대표적인 예가 **사용자 인터페이스(UI)**입니다.

- **그래픽 유저 인터페이스(GUI)**  
  : 윈도우 바탕화면, 스마트폰 화면처럼 그래픽 기반 상호작용  
- **커맨드 라인 인터페이스(CLI)**  
  : 텍스트 기반 명령어 입력 방식

---

## 🔁 이중 모드와 시스템 호출

운영체제는 **응용 프로그램이 하드웨어 자원에 직접 접근하지 못하도록 막아 자원을 보호**합니다.  
→ 자원 접근은 반드시 운영체제를 **통해** 이루어져야 합니다.

### ✅ 이중 모드(Dual Mode)

CPU는 두 가지 모드로 명령어를 실행합니다:

| 모드 | 설명 |
|------|------|
| **사용자 모드(User Mode)** | 커널 영역의 코드 실행 불가, 운영체제 서비스 직접 호출 불가 |
| **커널 모드(Kernel Mode)** | 운영체제 서비스 사용 가능, 커널 코드 실행 가능 |

### ✅ 시스템 호출(System Call)

사용자 모드에서 실행 중인 프로그램이 **운영체제의 서비스를 요청할 때**,  
**시스템 호출(System Call)**을 통해 커널 모드로 전환됩니다.

> 시스템 호출 = 운영체제에게 자원 사용 요청을 전달하는 공식적인 방법

---

## 🛠️ 운영체제의 핵심 서비스

운영체제는 다음과 같은 **핵심 서비스**를 제공합니다:

### 1. 프로세스 관리
- 실행 중인 프로그램 = **프로세스**
- 프로세스는 생성, 실행, 종료되며 메모리에서 수시로 바뀝니다.

### 2. 자원 접근 및 할당

#### ✅ CPU
- 여러 프로세스가 있지만, CPU는 **한 번에 하나**만 실행 가능
- 운영체제가 **어떤 프로세스에 CPU를 줄지, 얼마나 오래 줄지** 결정
  → **CPU 스케줄링(CPU Scheduling)**

#### ✅ 메모리
- 프로세스마다 크기와 적재 주소가 다름
- 운영체제가 **어떤 주소에 적재할지 결정**

#### ✅ 입출력 장치
- 입출력장치는 **하드웨어 인터럽트**를 발생시킴
- CPU는 인터럽트를 감지하면 작업을 잠시 저장하고,  
  **커널의 인터럽트 서비스 루틴(Interrupt Service Routine)** 실행

### 3. 파일 시스템 관리
- 파일의 생성, 삭제, 접근, 폴더 정리 등을 관리
- 이러한 **파일 시스템**도 운영체제가 제공하는 필수 서비스

---

## 🧩 정리

- 운영체제의 핵심 기능은 **커널(Kernel)**이 담당합니다.
- 사용자 프로그램이 커널 서비스를 이용하려면:
  1. **사용자 모드 → 커널 모드** 전환
  2. 이 전환은 **시스템 호출(System Call)**을 통해 이루어짐
- 커널이 제공하는 대표 서비스:
  - **프로세스 관리**
  - **자원 접근 및 할당 (CPU, 메모리, 입출력장치)**
  - **파일 시스템 관리**
